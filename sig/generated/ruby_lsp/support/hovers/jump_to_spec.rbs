# Generated from lib/ruby_lsp/support/hovers/jump_to_spec.rb with RBS::Inline

module RubyLsp
  # rubocop:disable Support/NamespacedDomain
  module Support
    module Hovers
      # An existing issue (https://github.com/Shopify/ruby-lsp/issues/2665) is available in the ruby-lsp repository.
      # We can remove this feature as soon as ruby-lsp supports it natively.
      class JumpToSpec
        @spec_files: Array[String]

        @workspace_path: String

        @index: RubyLsp::Support::Decorators::IndexDecorator

        @node_context: RubyLsp::NodeContext

        @response_builder: untyped

        @node: Prism::ConstantPathNode | Prism::ConstantReadNode

        include Requests::Support::Common

        # : (Prism::ConstantPathNode | Prism::ConstantReadNode, untyped, NodeContext, RubyIndexer::Index, String) -> void
        def initialize: (Prism::ConstantPathNode | Prism::ConstantReadNode, untyped, NodeContext, RubyIndexer::Index, String) -> void

        # : () -> void
        def call: () -> void

        private

        # : (String, Array[String]) -> String
        def resolve_superclass_node: (String, Array[String]) -> String

        # : (RubyIndexer::Entry::Namespace) -> ("" | ::String)
        def source_file: (RubyIndexer::Entry::Namespace) -> ("" | ::String)

        # Basically, searches files for the following patterns
        # - `describe Some::Class::Name `
        # - `describe Some::Class::Name,`
        # - `describe Some::Class::Name\n`
        # - `describe(Some::Class::Name)`
        #
        # : (RubyIndexer::Entry::Namespace) -> String?
        def find_spec_entry: (RubyIndexer::Entry::Namespace) -> String?

        # : () -> Array[String]
        def spec_files: () -> Array[String]

        # : (Prism::ConstantPathNode | Prism::ConstantReadNode) -> String
        def full_name: (Prism::ConstantPathNode | Prism::ConstantReadNode) -> String

        # : (Prism::ConstantPathNode | Prism::ConstantReadNode node) -> RubyIndexer::Entry::Namespace?
        def entry: (Prism::ConstantPathNode | Prism::ConstantReadNode node) -> RubyIndexer::Entry::Namespace?

        # : (String) -> String
        def get_guessed_spec_file: (String) -> String
      end
    end
  end
end
